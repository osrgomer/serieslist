RewriteEngine On
RewriteBase /serieslist/

# Force HTTPS (optional)
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect index.php to clean URL
RewriteCond %{THE_REQUEST} \s/serieslist/index\.php[?\s] [NC]
RewriteRule ^index\.php$ /serieslist/ [R=301,L]

# Handle directory index
DirectoryIndex index.php

# Pretty URLs - Remove .php extension
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)/?$ $1.php [L]

# Specific route mappings
RewriteRule ^home/?$ index.php [L,QSA]
RewriteRule ^library/?$ index.php [L,QSA]
RewriteRule ^trivia/?$ trivia.php [L,QSA]
RewriteRule ^quiz/?$ trivia.php [L,QSA]
RewriteRule ^account/?$ account.php [L,QSA]
RewriteRule ^profile/?$ account.php [L,QSA]
RewriteRule ^settings/?$ account.php [L,QSA]
RewriteRule ^voice/?$ tts/index.php [L,QSA]
RewriteRule ^tts/?$ tts/index.php [L,QSA]
RewriteRule ^login/?$ login.php [L,QSA]
RewriteRule ^register/?$ register.php [L,QSA]
RewriteRule ^logout/?$ logout.php [L,QSA]
RewriteRule ^privacy/?$ privacy.php [L,QSA]

# Show details route
RewriteRule ^show/([0-9]+)/?$ index.php?view=show-detail&id=$1 [L,QSA]